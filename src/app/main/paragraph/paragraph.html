<div class="w-full px-50">
    <header class="flex items-center justify-between mb-6">
        <h1 class="text-2xl font-semibold text-gray-800">Vaibhav</h1>
        <div class="flex items-center gap-3">
            <div class="text-sm text-gray-500">Difficulty</div>
            <select [(ngModel)]="textType" id="textType" (change)="changePara($event)"
                class="px-3 py-2 rounded-md border border-gray-200 bg-white text-sm leading-8 w-32">
                <option *ngFor="let type of difficulty">{{type.type}}</option>
            </select>
            <select class="px-3 py-2 rounded-md border border-gray-200 bg-white text-sm leading-8 w-32"
                [(ngModel)]="timeForTyping" id="timeForTyping" (change)="changeTime()">
                <option *ngFor="let time of typingTime" [value]="time.time">{{time.time}} minutes</option>
            </select>
        </div>
    </header>
    <!-- Paragraph card -->
    <section class="bg-white shadow-sm rounded-2xl p-6 border box-border border-gray-100">
        <div class="flex items-start gap-6">
            <!-- paragraph area -->
            <div class="flex-1">
                <div class="flex gap-3 justify-between p-1 box-border">
                    <label class="block text-md font-medium text-gray-600 p-4">{{textType}}</label>
                    <div class="p-2">
                        <!-- <label for="">select time</label> -->
                        <div
                            class="px-4 py-2 font-bold text-amber-500 rounded-md border border-gray-200 bg-white text-3xl">
                            {{countdownDisplay ? countdownDisplay : '00:00'}}
                        </div>
                    </div>
                </div>
                <div id="paragraphBox" #scrollContainer
                    class="bg-gray-50 p-6 rounded-xl border border-dashed border-gray-200 min-h-[140px] overflow-auto max-h-[250px] text-2xl leading-8 text-gray-800">
                    <!-- paragraph content is rendered as spans for each char/word -->
                    <p id="textDisplay" class="break-words">{{paragraph}}</p>
                    <!-- subtle overlay for left gradient to hint scroll -->
                </div>
                <div class="mt-4 flex items-center gap-3">
                    <button id="startBtn"
                        class="px-4 py-2 bg-indigo-600 text-white rounded-lg shadow-sm hover:bg-indigo-700 cursor-pointer"
                        (click)="startCountdown()">Start</button>
                    <button id="resetBtn" class="px-3 py-2 border border-gray-200 rounded-lg text-sm cursor-pointer"
                        (click)="reset()">Reset</button>

                    <div class="ml-auto text-sm text-gray-500">Press <kbd
                            class="px-2 py-0.5 border rounded bg-gray-100">Space</kbd> to move words</div>
                </div>
            </div>
            <!-- stats rail -->
            <aside class="w-56">
                <div class="space-y-4">
                    <div class="p-4 rounded-xl bg-gradient-to-br from-white to-gray-50 border border-gray-100">
                        <div class="text-xs text-gray-500">WPM</div>
                        <div id="wpm" class="text-2xl font-medium text-gray-800">0</div>
                    </div>
                    <div class="p-4 rounded-xl bg-gradient-to-br from-white to-gray-50 border border-gray-100">
                        <div class="text-xs text-gray-500">Accuracy</div>
                        <div id="accuracy" class="text-2xl font-medium text-gray-800">100%</div>
                    </div>
                    <div class="p-4 rounded-xl bg-gradient-to-br from-white to-gray-50 border border-gray-100">
                        <div class="text-xs text-gray-500">Progress</div>
                        <div class="w-full bg-gray-200 h-3 rounded-lg overflow-hidden mt-2">
                            <div id="progressBar" class="h-full rounded-lg"
                                style="width:0%; background:linear-gradient(90deg,#6366f1,#06b6d4);"></div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </section>
    <!-- hidden input to capture typing -->
    <input id="hiddenInput" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
        class="opacity-0 absolute -z-10" />

    <footer class="mt-6 text-sm text-gray-500">Tip: click inside the paragraph box and start typing. Incorrect
        characters will highlight red, correct ones green.</footer>
</div>